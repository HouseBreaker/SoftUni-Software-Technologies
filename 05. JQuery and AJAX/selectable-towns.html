<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Selectable towns</title>
	<script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
	<style>

		ul {
			margin:30px;
		}
		li {
			display: inline;
			font-size: 20px;
			padding: 20px;

		}
	</style>
</head>
<body>
<ul id="items">
	<li>Sofia</li>
	<li>Varna</li>
	<li>Plovdiv</li>
	<li>Burgas</li>
	<li>Rousse</li>
</ul>

<input type="button" id="showTownsButton" value="Show items">

<span id="selectedTownsText">op</span>

<script>
	$('#showTownsButton').click(function () {
		let selectedLi = $('#items').find('li[data-selected=true]');
		let towns = selectedLi.map((i, j) => j.innerText).get().join(', ');

		$('#selectedTownsText')[0].innerText = towns;
	});




	$('#items').find('li').click(function () {
		let li = $(this);

		if (li.attr('data-selected')) {
			li.removeAttr('data-selected');
			li.css('background', '');
		}
		else {
			li.attr('data-selected', 'true');
			li.css('background', '#DDD');
		}
	});

</script>
</body>
</html>